@model List<EduConnect.Models.Courses>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Courses";
}


<section class="page-header-box bg-primary">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="text-center">
                    <h3 class="page-header-title text-white">Courses</h3>
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item"><a href="#">eForum</a></li>
                        <li class="breadcrumb-item"><a href="#">Pages</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Courses</li>
                    </ol>
                </div>
            </div>
        </div> <!--end row-->
    </div> <!--end container-->
</section>


                            <div class="title text-center mb-4">
                                <h2 class="mb-3">Cursuri disponibile</h2>
                                
                            </div>
                            <section class="section">
                                <div class="container-fluid">
                                    <div class="row mb-4">
                                        <div class="col-lg-3">
                                            <div class="card">
                                                <div class="card-body text-center">
                                                    <div class="mb-3">


                                                        @foreach (var course in Model)
                                                        {
                                                            <div>
                                                                <h3 class="mb-4"> <span class="text-custom">@course.Title</span></h3>


                                                                <div>
                                                                    <iframe width="640" height="360"
                                                                            src="@GetEmbeddedUrl(course.YouTubeUrl)"
                                                                            frameborder="0" allowfullscreen>
                                                                    </iframe>
                                                                </div>
                                                                <p>@course.Description</p>
                                                            </div>
                                                        }
                                                        <div class="col-lg-3">
                                                            <div class="card">

                                                                

                                                                @functions {
                                                                    public string GetEmbeddedUrl(string url)
                                                                    {
                                                                        if (string.IsNullOrEmpty(url)) return "";
                                                                        var uri = new Uri(url);
                                                                        var query = System.Web.HttpUtility.ParseQueryString(uri.Query);
                                                                        var videoId = query["v"];
                                                                        return "https://www.youtube.com/embed/" + videoId;
                                                                    }



                                                                
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </section>
